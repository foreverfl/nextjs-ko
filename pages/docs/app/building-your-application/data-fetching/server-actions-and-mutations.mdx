---
title: ì„œë²„ ì•¡ì…˜ ë° ë°ì´í„° ìˆ˜ì •
nav_title: ì„œë²„ ì•¡ì…˜ ë° ë°ì´í„° ìˆ˜ì •
description: Next.jsì—ì„œ í¼ ì œì¶œê³¼ ë°ì´í„° ìˆ˜ì •ì„ ì²˜ë¦¬í•˜ëŠ” ë°©ë²•ì„ ì•Œì•„ë³´ì„¸ìš”.
related:
  description: Next.jsì—ì„œ ì„œë²„ ì•¡ì…˜ì„ êµ¬ì„±í•˜ëŠ” ë°©ë²•ì„ ì•Œì•„ë³´ì„¸ìš”
  links:
    - app/api-reference/next-config-js/serverActions
---

# ì„œë²„ ì•¡ì…˜ ë° ë°ì´í„° ìˆ˜ì •

[ì„œë²„ ì•¡ì…˜](https://ko.react.dev/reference/rsc/server-actions)ì€ ì„œë²„ì—ì„œ ì‹¤í–‰ë˜ëŠ” **ë¹„ë™ê¸° í•¨ìˆ˜**ì…ë‹ˆë‹¤. Next.js ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ í¼ ì œì¶œê³¼ ë°ì´í„° ìˆ˜ì •ì„ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ ì„œë²„ ë° í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ì—ì„œ í˜¸ì¶œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

> **ğŸ¥ ì‹œì²­í•˜ê¸°:** ì„œë²„ ì•¡ì…˜ì„ ì‚¬ìš©í•œ ë³€ì´ì— ëŒ€í•´ ìì„¸íˆ ì•Œì•„ë³´ê¸° â†’ [YouTube (10ë¶„)](https://youtu.be/dDpZfOQBMaU?si=cJZHlUu_jFhCzHUg).

## ê·œì¹™

ì„œë²„ ì•¡ì…˜ì€ React [`"use server"`](https://ko.react.dev/reference/react/use-server) ì§€ì‹œë¬¸ìœ¼ë¡œ ì •ì˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. `async` í•¨ìˆ˜ì˜ ë§¨ ìœ„ì— ì§€ì‹œë¬¸ì„ ë°°ì¹˜í•˜ì—¬ í•´ë‹¹ í•¨ìˆ˜ë¥¼ ì„œë²„ ì•¡ì…˜ìœ¼ë¡œ í‘œì‹œí•˜ê±°ë‚˜, ë³„ë„ì˜ íŒŒì¼ ë§¨ ìœ„ì— ë°°ì¹˜í•˜ì—¬ í•´ë‹¹ íŒŒì¼ì˜ ëª¨ë“  ë‚´ë³´ë‚´ê¸°ë¥¼ ì„œë²„ ì•¡ì…˜ìœ¼ë¡œ í‘œì‹œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### ì„œë²„ ì»´í¬ë„ŒíŠ¸

ì„œë²„ ì»´í¬ë„ŒíŠ¸ëŠ” ì¸ë¼ì¸ í•¨ìˆ˜ ìˆ˜ì¤€ ë˜ëŠ” ëª¨ë“ˆ ìˆ˜ì¤€ `"use server"` ì§€ì‹œë¬¸ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì„œë²„ ì•¡ì…˜ì„ ì¸ë¼ì¸ìœ¼ë¡œ ì‚¬ìš©í•˜ë ¤ë©´ í•¨ìˆ˜ ë³¸ë¬¸ ë§¨ ìœ„ì— `"use server"`ë¥¼ ì¶”ê°€í•˜ì„¸ìš”:

```tsx filename="app/page.tsx" switcher
export default function Page() {
  // ì„œë²„ ì•¡ì…˜
  async function create() {
    "use server";
    // ë°ì´í„° ìˆ˜ì •
  }

  return "...";
}
```

```jsx filename="app/page.jsx" switcher
export default function Page() {
  // ì„œë²„ ì•¡ì…˜
  async function create() {
    "use server";
    // ë°ì´í„° ìˆ˜ì •
  }

  return "...";
}
```

### í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸

í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì„œë²„ ì•¡ì…˜ì„ í˜¸ì¶œí•˜ë ¤ë©´ ìƒˆ íŒŒì¼ì„ ë§Œë“¤ê³  ë§¨ ìœ„ì— `"use server"` ì§€ì‹œë¬¸ì„ ì¶”ê°€í•˜ì„¸ìš”. íŒŒì¼ ë‚´ì˜ ëª¨ë“  í•¨ìˆ˜ëŠ” í´ë¼ì´ì–¸íŠ¸ ë° ì„œë²„ ì»´í¬ë„ŒíŠ¸ ëª¨ë‘ì—ì„œ ì¬ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì„œë²„ ì•¡ì…˜ìœ¼ë¡œ í‘œì‹œë©ë‹ˆë‹¤:

```tsx filename="app/actions.ts" switcher
"use server";

export async function create() {}
```

```js filename="app/actions.js" switcher
"use server";

export async function create() {}
```

```tsx filename="app/ui/button.tsx" switcher
"use client";

import { create } from "@/app/actions";

export function Button() {
  return <Button onClick={create} />;
}
```

```jsx filename="app/ui/button.js" switcher
"use client";

import { create } from "@/app/actions";

export function Button() {
  return <Button onClick={create} />;
}
```

### ì•¡ì…˜ì„ propsë¡œ ì „ë‹¬í•˜ê¸°

ì„œë²„ ì•¡ì…˜ì„ í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ì— propìœ¼ë¡œ ì „ë‹¬í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤:

```jsx
<ClientComponent updateItemAction={updateItem} />
```

```tsx filename="app/client-component.tsx" switcher
"use client";

export default function ClientComponent({
  updateItemAction,
}: {
  updateItemAction: (formData: FormData) => void;
}) {
  return <form action={updateItemAction}>{/* ... */}</form>;
}
```

```jsx filename="app/client-component.jsx" switcher
"use client";

export default function ClientComponent({ updateItemAction }) {
  return <form action={updateItemAction}>{/* ... */}</form>;
}
```

ì¼ë°˜ì ìœ¼ë¡œ Next.js TypeScript í”ŒëŸ¬ê·¸ì¸ì€ `updateItemAction`ì„ `client-component.tsx`ì—ì„œ í”Œë˜ê·¸ë¥¼ ì§€ì •í•©ë‹ˆë‹¤. ì´ëŠ” ì¼ë°˜ì ìœ¼ë¡œ í´ë¼ì´ì–¸íŠ¸-ì„œë²„ ê²½ê³„ë¥¼ ë„˜ì–´ ì§ë ¬í™”ë  ìˆ˜ ì—†ëŠ” í•¨ìˆ˜ì´ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.
ê·¸ëŸ¬ë‚˜ `action`ì´ë¼ëŠ” ì´ë¦„ì´ë‚˜ `Action`ìœ¼ë¡œ ëë‚˜ëŠ” propsëŠ” ì„œë²„ ì•¡ì…˜ì„ ë°›ëŠ” ê²ƒìœ¼ë¡œ ê°€ì •ë©ë‹ˆë‹¤.
ì´ëŠ” TypeScript í”ŒëŸ¬ê·¸ì¸ì´ ì‹¤ì œë¡œ ì„œë²„ ì•¡ì…˜ì„ ë°›ëŠ”ì§€ ì•„ë‹ˆë©´ ì¼ë°˜ í•¨ìˆ˜ë¥¼ ë°›ëŠ”ì§€ ì•Œ ìˆ˜ ì—†ê¸° ë•Œë¬¸ì— ë‹¨ì§€ ì¶”ì¸¡ì¼ ë¿ì…ë‹ˆë‹¤.
ëŸ°íƒ€ì„ íƒ€ì… ê²€ì‚¬ëŠ” ì—¬ì „íˆ ì‹¤ìˆ˜ë¡œ í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ì— í•¨ìˆ˜ë¥¼ ì „ë‹¬í•˜ì§€ ì•Šë„ë¡ ë³´ì¥í•©ë‹ˆë‹¤.

## ë™ì‘

- ì„œë²„ ì•¡ì…˜ì€ [`<form>` ìš”ì†Œ](#forms)ì˜ `action` ì†ì„±ì„ ì‚¬ìš©í•˜ì—¬ í˜¸ì¶œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:
  - ì„œë²„ ì»´í¬ë„ŒíŠ¸ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ì ì§„ì  í–¥ìƒì„ ì§€ì›í•˜ë¯€ë¡œ, JavaScriptê°€ ì•„ì§ ë¡œë“œë˜ì§€ ì•Šì•˜ê±°ë‚˜ ë¹„í™œì„±í™”ëœ ê²½ìš°ì—ë„ í¼ì´ ì œì¶œë©ë‹ˆë‹¤.
  - í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì„œë²„ ì•¡ì…˜ì„ í˜¸ì¶œí•˜ëŠ” í¼ì€ JavaScriptê°€ ì•„ì§ ë¡œë“œë˜ì§€ ì•Šì€ ê²½ìš° ì œì¶œì„ íì— ë„£ì–´ í´ë¼ì´ì–¸íŠ¸ í•˜ì´ë“œë ˆì´ì…˜ì„ ìš°ì„ ì‹œí•©ë‹ˆë‹¤.
  - í•˜ì´ë“œë ˆì´ì…˜ í›„ì—ëŠ” ë¸Œë¼ìš°ì €ê°€ í¼ ì œì¶œ ì‹œ ìƒˆë¡œê³ ì¹¨í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
- ì„œë²„ ì•¡ì…˜ì€ `<form>`ì—ë§Œ êµ­í•œë˜ì§€ ì•Šìœ¼ë©° ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬, `useEffect`, ì„œë“œíŒŒí‹° ë¼ì´ë¸ŒëŸ¬ë¦¬ ë° ê¸°íƒ€ í¼ ìš”ì†Œ(ì˜ˆ: `<button>`)ì—ì„œ í˜¸ì¶œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- ì„œë²„ ì•¡ì…˜ì€ Next.jsì˜ [ìºì‹± ë° ì¬ê²€ì¦](/docs/app/building-your-application/caching) ì•„í‚¤í…ì²˜ì™€ í†µí•©ë©ë‹ˆë‹¤. ì•¡ì…˜ì´ í˜¸ì¶œë˜ë©´ Next.jsëŠ” ë‹¨ì¼ ì„œë²„ ì™•ë³µì—ì„œ ì—…ë°ì´íŠ¸ëœ UIì™€ ìƒˆ ë°ì´í„°ë¥¼ ëª¨ë‘ ë°˜í™˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- ë‚´ë¶€ì ìœ¼ë¡œ ì•¡ì…˜ì€ `POST` ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ë©°, ì´ HTTP ë©”ì„œë“œë§Œ ì•¡ì…˜ì„ í˜¸ì¶œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- ì„œë²„ ì•¡ì…˜ì˜ ì¸ìˆ˜ì™€ ë°˜í™˜ ê°’ì€ Reactì— ì˜í•´ ì§ë ¬í™” ê°€ëŠ¥í•´ì•¼ í•©ë‹ˆë‹¤. [ì§ë ¬í™” ê°€ëŠ¥í•œ ì¸ìˆ˜ì™€ ê°’](https://ko.react.dev/reference/react/use-server#serializable-parameters-and-return-values)ì˜ ëª©ë¡ì€ React ë¬¸ì„œë¥¼ ì°¸ì¡°í•˜ì„¸ìš”.
- ì„œë²„ ì•¡ì…˜ì€ í•¨ìˆ˜ì…ë‹ˆë‹¤. ì¦‰, ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì–´ë””ì—ì„œë‚˜ ì¬ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- ì„œë²„ ì•¡ì…˜ì€ ì‚¬ìš©ë˜ëŠ” í˜ì´ì§€ë‚˜ ë ˆì´ì•„ì›ƒì—ì„œ [ëŸ°íƒ€ì„](/docs/app/building-your-application/rendering/edge-and-nodejs-runtimes)ì„ ìƒì†ë°›ìŠµë‹ˆë‹¤.
- ì„œë²„ ì•¡ì…˜ì€ `maxDuration`ê³¼ ê°™ì€ í•„ë“œë¥¼ í¬í•¨í•˜ì—¬ ì‚¬ìš©ë˜ëŠ” í˜ì´ì§€ë‚˜ ë ˆì´ì•„ì›ƒì—ì„œ [ë¼ìš°íŠ¸ ì„¸ê·¸ë¨¼íŠ¸ êµ¬ì„±](/docs/app/api-reference/file-conventions/route-segment-config)ì„ ìƒì†ë°›ìŠµë‹ˆë‹¤.

## ì˜ˆì‹œ

### í¼

ReactëŠ” HTML [`<form>`](https://developer.mozilla.org/docs/Web/HTML/Element/form) ìš”ì†Œë¥¼ í™•ì¥í•˜ì—¬ `action` propìœ¼ë¡œ ì„œë²„ ì•¡ì…˜ì„ í˜¸ì¶œí•  ìˆ˜ ìˆë„ë¡ í•©ë‹ˆë‹¤.

í¼ì—ì„œ í˜¸ì¶œë  ë•Œ ì•¡ì…˜ì€ ìë™ìœ¼ë¡œ [`FormData`](https://developer.mozilla.org/docs/Web/API/FormData/FormData) ê°ì²´ë¥¼ ë°›ìŠµë‹ˆë‹¤. í•„ë“œë¥¼ ê´€ë¦¬í•˜ê¸° ìœ„í•´ React `useState`ë¥¼ ì‚¬ìš©í•  í•„ìš”ê°€ ì—†ìœ¼ë©°, ëŒ€ì‹  ë„¤ì´í‹°ë¸Œ [`FormData` ë©”ì„œë“œ](https://developer.mozilla.org/en-US/docs/Web/API/FormData#instance_methods)ë¥¼ ì‚¬ìš©í•˜ì—¬ ë°ì´í„°ë¥¼ ì¶”ì¶œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

```tsx filename="app/invoices/page.tsx" switcher
export default function Page() {
  async function createInvoice(formData: FormData) {
    "use server";

    const rawFormData = {
      customerId: formData.get("customerId"),
      amount: formData.get("amount"),
      status: formData.get("status"),
    };

    // ë°ì´í„° ìˆ˜ì •
    // ìºì‹œ ì¬ê²€ì¦
  }

  return <form action={createInvoice}>...</form>;
}
```

```jsx filename="app/invoices/page.jsx" switcher
export default function Page() {
  async function createInvoice(formData) {
    "use server";

    const rawFormData = {
      customerId: formData.get("customerId"),
      amount: formData.get("amount"),
      status: formData.get("status"),
    };

    // ë°ì´í„° ìˆ˜ì •
    // ìºì‹œ ì¬ê²€ì¦
  }

  return <form action={createInvoice}>...</form>;
}
```

> **ì•Œì•„ë‘ë©´ ì¢‹ì€ ì :**
>
> - ì˜ˆì‹œ: [ë¡œë”© ë° ì˜¤ë¥˜ ìƒíƒœê°€ ìˆëŠ” í¼](https://github.com/vercel/next.js/tree/canary/examples/next-forms)
> - ë§ì€ í•„ë“œê°€ ìˆëŠ” í¼ì„ ë‹¤ë£° ë•ŒëŠ” [`entries()`](https://developer.mozilla.org/en-US/docs/Web/API/FormData/entries) ë©”ì„œë“œì™€ JavaScriptì˜ [`Object.fromEntries()`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/fromEntries)ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ê³ ë ¤í•´ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´: `const rawFormData = Object.fromEntries(formData)`. ì£¼ì˜í•  ì ì€ `formData`ì— ì¶”ê°€ì ì¸ `$ACTION_` ì†ì„±ì´ í¬í•¨ëœë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤.
> - ìì„¸í•œ ë‚´ìš©ì€ [React `<form>` ë¬¸ì„œ](https://ko.react.dev/reference/react-dom/components/form#handle-form-submission-with-a-server-action)ë¥¼ ì°¸ì¡°í•˜ì„¸ìš”.

### ì¶”ê°€ ì¸ìˆ˜ ì „ë‹¬í•˜ê¸°

JavaScript `bind` ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ì„œë²„ ì•¡ì…˜ì— ì¶”ê°€ ì¸ìˆ˜ë¥¼ ì „ë‹¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```tsx filename="app/client-component.tsx" highlight={6} switcher
"use client";

import { updateUser } from "./actions";

export function UserProfile({ userId }: { userId: string }) {
  const updateUserWithId = updateUser.bind(null, userId);

  return (
    <form action={updateUserWithId}>
      <input type="text" name="name" />
      <button type="submit">ì‚¬ìš©ì ì´ë¦„ ì—…ë°ì´íŠ¸</button>
    </form>
  );
}
```

```jsx filename="app/client-component.js" highlight={6} switcher
"use client";

import { updateUser } from "./actions";

export function UserProfile({ userId }) {
  const updateUserWithId = updateUser.bind(null, userId);

  return (
    <form action={updateUserWithId}>
      <input type="text" name="name" />
      <button type="submit">ì‚¬ìš©ì ì´ë¦„ ì—…ë°ì´íŠ¸</button>
    </form>
  );
}
```

ì„œë²„ ì•¡ì…˜ì€ í¼ ë°ì´í„° ì™¸ì— `userId` ì¸ìˆ˜ë¥¼ ë°›ê²Œ ë©ë‹ˆë‹¤:

```js filename="app/actions.js"
"use server";

export async function updateUser(userId, formData) {}
```

> **ì•Œì•„ë‘ë©´ ì¢‹ì€ ì **:
>
> - ëŒ€ì•ˆìœ¼ë¡œ í¼ì—ì„œ ìˆ¨ê²¨ì§„ ì…ë ¥ í•„ë“œë¡œ ì¸ìˆ˜ë¥¼ ì „ë‹¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤(ì˜ˆ: `<input type="hidden" name="userId" value={userId} />`). í•˜ì§€ë§Œ ì´ ê°’ì€ ë Œë”ë§ëœ HTMLì˜ ì¼ë¶€ê°€ ë˜ë©° ì¸ì½”ë”©ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
> - `.bind`ëŠ” ì„œë²„ ë° í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ ëª¨ë‘ì—ì„œ ì‘ë™í•©ë‹ˆë‹¤. ë˜í•œ ë‹¨ê³„ì  ê¸°ëŠ¥ í–¥ìƒì„ ì§€ì›í•©ë‹ˆë‹¤.

### ì¤‘ì²©ëœ í¼ ìš”ì†Œ

`<form>` ë‚´ë¶€ì— ì¤‘ì²©ëœ ìš”ì†Œì—ì„œë„ ì„œë²„ ì•¡ì…˜ì„ í˜¸ì¶œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ `<button>`, `<input type="submit">`, `<input type="image">`ì™€ ê°™ì€ ìš”ì†Œë“¤ì€ `formAction` propì´ë‚˜ [ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬](#event-handlers)ë¥¼ ë°›ìŠµë‹ˆë‹¤.

ì´ëŠ” í¼ ë‚´ì—ì„œ ì—¬ëŸ¬ ì„œë²„ ì•¡ì…˜ì„ í˜¸ì¶œí•˜ê³  ì‹¶ì„ ë•Œ ìœ ìš©í•©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ê²Œì‹œë¬¼ ë°œí–‰ ì™¸ì—ë„ ê²Œì‹œë¬¼ ì´ˆì•ˆì„ ì €ì¥í•˜ê¸° ìœ„í•œ íŠ¹ì • `<button>` ìš”ì†Œë¥¼ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ìì„¸í•œ ë‚´ìš©ì€ [React `<form>` ë¬¸ì„œ](https://ko.react.dev/reference/react-dom/components/form#handling-multiple-submission-types)ë¥¼ ì°¸ì¡°í•˜ì„¸ìš”.

### í”„ë¡œê·¸ë˜ë° ë°©ì‹ì˜ í¼ ì œì¶œ

[`requestSubmit()`](https://developer.mozilla.org/en-US/docs/Web/API/HTMLFormElement/requestSubmit) ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ í”„ë¡œê·¸ë˜ë° ë°©ì‹ìœ¼ë¡œ í¼ ì œì¶œì„ íŠ¸ë¦¬ê±°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ì‚¬ìš©ìê°€ `âŒ˜` + `Enter` í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤ë¥¼ ì‚¬ìš©í•˜ì—¬ í¼ì„ ì œì¶œí•  ë•Œ, `onKeyDown` ì´ë²¤íŠ¸ë¥¼ ìˆ˜ì‹ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

```tsx filename="app/entry.tsx" switcher
"use client";

export function Entry() {
  const handleKeyDown = (e: React.KeyboardEvent<HTMLTextAreaElement>) => {
    if (
      (e.ctrlKey || e.metaKey) &&
      (e.key === "Enter" || e.key === "NumpadEnter")
    ) {
      e.preventDefault();
      e.currentTarget.form?.requestSubmit();
    }
  };

  return (
    <div>
      <textarea name="entry" rows={20} required onKeyDown={handleKeyDown} />
    </div>
  );
}
```

```jsx filename="app/entry.jsx" switcher
"use client";

export function Entry() {
  const handleKeyDown = (e) => {
    if (
      (e.ctrlKey || e.metaKey) &&
      (e.key === "Enter" || e.key === "NumpadEnter")
    ) {
      e.preventDefault();
      e.currentTarget.form?.requestSubmit();
    }
  };

  return (
    <div>
      <textarea name="entry" rows={20} required onKeyDown={handleKeyDown} />
    </div>
  );
}
```

ì´ëŠ” ê°€ì¥ ê°€ê¹Œìš´ `<form>` ì¡°ìƒì˜ ì œì¶œì„ íŠ¸ë¦¬ê±°í•˜ì—¬ ì„œë²„ ì•¡ì…˜ì„ í˜¸ì¶œí•©ë‹ˆë‹¤.

### ì„œë²„ ì¸¡ í¼ ìœ íš¨ì„± ê²€ì‚¬

ê¸°ë³¸ì ì¸ í´ë¼ì´ì–¸íŠ¸ ì¸¡ í¼ ìœ íš¨ì„± ê²€ì‚¬ë¥¼ ìœ„í•´ `required`ì™€ `type="email"`ê³¼ ê°™ì€ HTML ì†ì„±ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ë” ê³ ê¸‰ ì„œë²„ ì¸¡ ìœ íš¨ì„± ê²€ì‚¬ë¥¼ ìœ„í•´ [zod](https://zod.dev/)ì™€ ê°™ì€ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ì—¬ ë°ì´í„°ë¥¼ ë³€ê²½í•˜ê¸° ì „ì— í¼ í•„ë“œë¥¼ ê²€ì¦í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

```tsx filename="app/actions.ts" switcher
"use server";

import { z } from "zod";

const schema = z.object({
  email: z.string({
    invalid_type_error: "Invalid Email",
  }),
});

export default async function createUser(formData: FormData) {
  const validatedFields = schema.safeParse({
    email: formData.get("email"),
  });

  // í¼ ë°ì´í„°ê°€ ìœ íš¨í•˜ì§€ ì•Šìœ¼ë©´ ì¼ì° ë°˜í™˜
  if (!validatedFields.success) {
    return {
      errors: validatedFields.error.flatten().fieldErrors,
    };
  }

  // ë°ì´í„° ë³€ê²½
}
```

```jsx filename="app/actions.js" switcher
"use server";

import { z } from "zod";

const schema = z.object({
  email: z.string({
    invalid_type_error: "Invalid Email",
  }),
});

export default async function createsUser(formData) {
  const validatedFields = schema.safeParse({
    email: formData.get("email"),
  });

  // í¼ ë°ì´í„°ê°€ ìœ íš¨í•˜ì§€ ì•Šìœ¼ë©´ ì¼ì° ë°˜í™˜
  if (!validatedFields.success) {
    return {
      errors: validatedFields.error.flatten().fieldErrors,
    };
  }

  // ë°ì´í„° ë³€ê²½
}
```

í•„ë“œê°€ ì„œë²„ì—ì„œ ê²€ì¦ë˜ë©´ ì•¡ì…˜ì—ì„œ ì§ë ¬í™” ê°€ëŠ¥í•œ ê°ì²´ë¥¼ ë°˜í™˜í•˜ê³  React [`useActionState`](https://ko.react.dev/reference/react/useActionState) í›…ì„ ì‚¬ìš©í•˜ì—¬ ì‚¬ìš©ìì—ê²Œ ë©”ì‹œì§€ë¥¼ í‘œì‹œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

- `useActionState`ì— ì•¡ì…˜ì„ ì „ë‹¬í•˜ë©´ ì•¡ì…˜ì˜ í•¨ìˆ˜ ì„œëª…ì´ ë³€ê²½ë˜ì–´ ì²« ë²ˆì§¸ ì¸ìˆ˜ë¡œ ìƒˆ `prevState` ë˜ëŠ” `initialState` ë§¤ê°œë³€ìˆ˜ë¥¼ ë°›ìŠµë‹ˆë‹¤.
- `useActionState`ëŠ” React í›…ì´ë¯€ë¡œ í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.

> **ì•Œì•„ë‘ë©´ ì¢‹ì€ ì **: ì´ ì˜ˆì œë“¤ì€ React 19 RCì—ì„œ ì‚¬ìš© ê°€ëŠ¥í•œ Reactì˜ `useActionState` í›…ì„ ì‚¬ìš©í•©ë‹ˆë‹¤. ì´ì „ ë²„ì „ì˜ Reactë¥¼ ì‚¬ìš© ì¤‘ì´ë¼ë©´ ëŒ€ì‹  `useFormState`ë¥¼ ì‚¬ìš©í•˜ì„¸ìš”. ìì„¸í•œ ë‚´ìš©ì€ [React ë¬¸ì„œ](https://ko.react.dev/reference/react/useActionState)ë¥¼ ì°¸ì¡°í•˜ì„¸ìš”.

```tsx filename="app/actions.ts" switcher
"use server";

import { redirect } from "next/navigation";

export async function createUser(prevState: any, formData: FormData) {
  const res = await fetch("https://...");
  const json = await res.json();

  if (!res.ok) {
    return { message: "Please enter a valid email" };
  }

  redirect("/dashboard");
}
```

```jsx filename="app/actions.js" switcher
"use server";

import { redirect } from "next/navigation";

export async function createUser(prevState, formData) {
  const res = await fetch("https://...");
  const json = await res.json();

  if (!res.ok) {
    return { message: "Please enter a valid email" };
  }

  redirect("/dashboard");
}
```

ê·¸ëŸ° ë‹¤ìŒ `useActionState` í›…ì— ì•¡ì…˜ì„ ì „ë‹¬í•˜ê³  ë°˜í™˜ëœ `state`ë¥¼ ì‚¬ìš©í•˜ì—¬ ì˜¤ë¥˜ ë©”ì‹œì§€ë¥¼ í‘œì‹œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```tsx filename="app/ui/signup.tsx" highlight={11,18-20} switcher
"use client";

import { useActionState } from "react";
import { createUser } from "@/app/actions";

const initialState = {
  message: "",
};

export function Signup() {
  const [state, formAction] = useActionState(createUser, initialState);

  return (
    <form action={formAction}>
      <label htmlFor="email">ì´ë©”ì¼</label>
      <input type="text" id="email" name="email" required />
      {/* ... */}
      <p aria-live="polite">{state?.message}</p>
      <button>ê°€ì…í•˜ê¸°</button>
    </form>
  );
}
```

```jsx filename="app/ui/signup.js" highlight={11,18-20} switcher
"use client";

import { useActionState } from "react";
import { createUser } from "@/app/actions";

const initialState = {
  message: "",
};

export function Signup() {
  const [state, formAction] = useActionState(createUser, initialState);

  return (
    <form action={formAction}>
      <label htmlFor="email">ì´ë©”ì¼</label>
      <input type="text" id="email" name="email" required />
      {/* ... */}
      <p aria-live="polite">{state?.message}</p>
      <button>ê°€ì…í•˜ê¸°</button>
    </form>
  );
}
```

> **ì•Œì•„ë‘ë©´ ì¢‹ì€ ì :**
>
> - ë°ì´í„°ë¥¼ ë³€ê²½í•˜ê¸° ì „ì— ì‚¬ìš©ìê°€ í•´ë‹¹ ì‘ì—…ì„ ìˆ˜í–‰í•  ê¶Œí•œì´ ìˆëŠ”ì§€ í•­ìƒ í™•ì¸í•´ì•¼ í•©ë‹ˆë‹¤. [ì¸ì¦ ë° ê¶Œí•œ ë¶€ì—¬](#ì¸ì¦-ë°-ê¶Œí•œ-ë¶€ì—¬)ë¥¼ ì°¸ì¡°í•˜ì„¸ìš”.

### ëŒ€ê¸° ìƒíƒœ

[`useActionState`](https://ko.react.dev/reference/react/useActionState) í›…ì€ ì•¡ì…˜ì´ ì‹¤í–‰ë˜ëŠ” ë™ì•ˆ ë¡œë”© í‘œì‹œê¸°ë¥¼ í‘œì‹œí•˜ëŠ” ë° ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” `pending` ìƒíƒœë¥¼ ë…¸ì¶œí•©ë‹ˆë‹¤.

```tsx filename="app/submit-button.tsx" highlight={11,21-23} switcher
"use client";

import { useActionState } from "react";
import { createUser } from "@/app/actions";

const initialState = {
  message: "",
};

export function Signup() {
  const [state, formAction, pending] = useActionState(createUser, initialState);

  return (
    <form action={formAction}>
      <label htmlFor="email">Email</label>
      <input type="text" id="email" name="email" required />
      {/* ... */}
      <p aria-live="polite" className="sr-only">
        {state?.message}
      </p>
      <button aria-disabled={pending} type="submit">
        {pending ? "Submitting..." : "Sign up"}
      </button>
    </form>
  );
}
```

```jsx filename="app/submit-button.jsx" highlight={11,21-23} switcher
"use client";

import { useActionState } from "react";
import { createUser } from "@/app/actions";

const initialState = {
  message: "",
};

export function Signup() {
  const [state, formAction, pending] = useActionState(createUser, initialState);

  return (
    <form action={formAction}>
      <label htmlFor="email">Email</label>
      <input type="text" id="email" name="email" required />
      {/* ... */}
      <p aria-live="polite" className="sr-only">
        {state?.message}
      </p>
      <button aria-disabled={pending} type="submit">
        {pending ? "Submitting..." : "Sign up"}
      </button>
    </form>
  );
}
```

> **ì•Œì•„ë‘ë©´ ì¢‹ì€ ì :** ë˜ëŠ” íŠ¹ì • í¼ì— ëŒ€í•œ ëŒ€ê¸° ìƒíƒœë¥¼ í‘œì‹œí•˜ê¸° ìœ„í•´ [`useFormStatus`](https://ko.react.dev/reference/react-dom/hooks/useFormStatus) í›…ì„ ì‚¬ìš©í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.

### ë‚™ê´€ì  ì—…ë°ì´íŠ¸

React [`useOptimistic`](https://ko.react.dev/reference/react/useOptimistic) í›…ì„ ì‚¬ìš©í•˜ì—¬ ì„œë²„ ì•¡ì…˜ì´ ì‹¤í–‰ì„ ì™„ë£Œí•  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦¬ì§€ ì•Šê³  ì‘ë‹µì„ ê¸°ë‹¤ë¦¬ëŠ” ëŒ€ì‹  UIë¥¼ ë‚™ê´€ì ìœ¼ë¡œ ì—…ë°ì´íŠ¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

```tsx filename="app/page.tsx" switcher
"use client";

import { useOptimistic } from "react";
import { send } from "./actions";

type Message = {
  message: string;
};

export function Thread({ messages }: { messages: Message[] }) {
  const [optimisticMessages, addOptimisticMessage] = useOptimistic
    Message[],
    string
  >(messages, (state, newMessage) => [...state, { message: newMessage }]);

  const formAction = async (formData) => {
    const message = formData.get("message") as string;
    addOptimisticMessage(message);
    await send(message);
  };

  return (
    <div>
      {optimisticMessages.map((m, i) => (
        <div key={i}>{m.message}</div>
      ))}
      <form action={formAction}>
        <input type="text" name="message" />
        <button type="submit">ì „ì†¡</button>
      </form>
    </div>
  );
}
```

```jsx filename="app/page.jsx" switcher
"use client";

import { useOptimistic } from "react";
import { send } from "./actions";

export function Thread({ messages }) {
  const [optimisticMessages, addOptimisticMessage] = useOptimistic(
    messages,
    (state, newMessage) => [...state, { message: newMessage }]
  );

  const formAction = async (formData) => {
    const message = formData.get("message");
    addOptimisticMessage(message);
    await send(message);
  };

  return (
    <div>
      {optimisticMessages.map((m) => (
        <div>{m.message}</div>
      ))}
      <form action={formAction}>
        <input type="text" name="message" />
        <button type="submit">ì „ì†¡</button>
      </form>
    </div>
  );
}
```

### ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬

ì„œë²„ ì•¡ì…˜ì„ `<form>` ìš”ì†Œ ë‚´ì—ì„œ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¼ë°˜ì ì´ì§€ë§Œ, `onClick`ê³¼ ê°™ì€ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ì—ì„œë„ í˜¸ì¶œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ì¢‹ì•„ìš” ìˆ˜ë¥¼ ì¦ê°€ì‹œí‚¤ëŠ” ê²½ìš°:

```tsx filename="app/like-button.tsx" switcher
"use client";

import { incrementLike } from "./actions";
import { useState } from "react";

export default function LikeButton({ initialLikes }: { initialLikes: number }) {
  const [likes, setLikes] = useState(initialLikes);

  return (
    <>
      <p>ì´ ì¢‹ì•„ìš”: {likes}</p>
      <button
        onClick={async () => {
          const updatedLikes = await incrementLike();
          setLikes(updatedLikes);
        }}
      >
        ì¢‹ì•„ìš”
      </button>
    </>
  );
}
```

```jsx filename="app/like-button.js" switcher
"use client";

import { incrementLike } from "./actions";
import { useState } from "react";

export default function LikeButton({ initialLikes }) {
  const [likes, setLikes] = useState(initialLikes);

  return (
    <>
      <p>ì´ ì¢‹ì•„ìš”: {likes}</p>
      <button
        onClick={async () => {
          const updatedLikes = await incrementLike();
          setLikes(updatedLikes);
        }}
      >
        ì¢‹ì•„ìš”
      </button>
    </>
  );
}
```

í¼ ìš”ì†Œì— ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ë¥¼ ì¶”ê°€í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, `onChange`ì—ì„œ í¼ í•„ë“œë¥¼ ì €ì¥í•˜ëŠ” ê²½ìš°:

```tsx filename="app/ui/edit-post.tsx"
"use client";

import { publishPost, saveDraft } from "./actions";

export default function EditPost() {
  return (
    <form action={publishPost}>
      <textarea
        name="content"
        onChange={async (e) => {
          await saveDraft(e.target.value);
        }}
      />
      <button type="submit">ë°œí–‰</button>
    </form>
  );
}
```

ì´ì™€ ê°™ì´ ì—¬ëŸ¬ ì´ë²¤íŠ¸ê°€ ë¹ ë¥´ê²Œ ë°œìƒí•  ìˆ˜ ìˆëŠ” ê²½ìš°ì—ëŠ” ë¶ˆí•„ìš”í•œ ì„œë²„ ì•¡ì…˜ í˜¸ì¶œì„ ë°©ì§€í•˜ê¸° ìœ„í•´ **ë””ë°”ìš´ì‹±**ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ê¶Œì¥í•©ë‹ˆë‹¤.

### `useEffect`

React [`useEffect`](https://ko.react.dev/reference/react/useEffect) í›…ì„ ì‚¬ìš©í•˜ì—¬ ì»´í¬ë„ŒíŠ¸ê°€ ë§ˆìš´íŠ¸ë˜ê±°ë‚˜ ì˜ì¡´ì„±ì´ ë³€ê²½ë  ë•Œ ì„œë²„ ì•¡ì…˜ì„ í˜¸ì¶œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ëŠ” ì „ì—­ ì´ë²¤íŠ¸ì— ì˜ì¡´í•˜ê±°ë‚˜ ìë™ìœ¼ë¡œ íŠ¸ë¦¬ê±°í•´ì•¼ í•˜ëŠ” ë³€ì´ì— ìœ ìš©í•©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ì•± ë‹¨ì¶•í‚¤ë¥¼ ìœ„í•œ `onKeyDown`, ë¬´í•œ ìŠ¤í¬ë¡¤ì„ ìœ„í•œ êµì°¨ ê´€ì°°ì í›…, ë˜ëŠ” ì»´í¬ë„ŒíŠ¸ê°€ ë§ˆìš´íŠ¸ë  ë•Œ ì¡°íšŒ ìˆ˜ë¥¼ ì—…ë°ì´íŠ¸í•˜ëŠ” ê²½ìš° ë“±ì— ìœ ìš©í•©ë‹ˆë‹¤:

```tsx filename="app/view-count.tsx" switcher
"use client";

import { incrementViews } from "./actions";
import { useState, useEffect } from "react";

export default function ViewCount({ initialViews }: { initialViews: number }) {
  const [views, setViews] = useState(initialViews);

  useEffect(() => {
    const updateViews = async () => {
      const updatedViews = await incrementViews();
      setViews(updatedViews);
    };

    updateViews();
  }, []);

  return <p>ì´ ì¡°íšŒìˆ˜: {views}</p>;
}
```

```jsx filename="app/view-count.js" switcher
"use client";

import { incrementViews } from "./actions";
import { useState, useEffect } from "react";

export default function ViewCount({ initialViews }: { initialViews: number }) {
  const [views, setViews] = useState(initialViews);

  useEffect(() => {
    const updateViews = async () => {
      const updatedViews = await incrementViews();
      setViews(updatedViews);
    };

    updateViews();
  }, []);

  return <p>ì´ ì¡°íšŒìˆ˜: {views}</p>;
}
```

`useEffect`ì˜ [ë™ì‘ê³¼ ì£¼ì˜ì‚¬í•­](https://ko.react.dev/reference/react/useEffect#caveats)ì„ ê³ ë ¤í•˜ëŠ” ê²ƒì„ ìŠì§€ ë§ˆì„¸ìš”.

### ì˜¤ë¥˜ ì²˜ë¦¬

ì˜¤ë¥˜ê°€ ë°œìƒí•˜ë©´ ê°€ì¥ ê°€ê¹Œìš´ [`error.js`](/docs/app/building-your-application/routing/error-handling) ë˜ëŠ” `<Suspense>` ê²½ê³„ì— ì˜í•´ í´ë¼ì´ì–¸íŠ¸ì—ì„œ ìºì¹˜ë©ë‹ˆë‹¤. UIì—ì„œ ì²˜ë¦¬í•  ì˜¤ë¥˜ë¥¼ ë°˜í™˜í•˜ê¸° ìœ„í•´ `try/catch`ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ê¶Œì¥í•©ë‹ˆë‹¤.

ì˜ˆë¥¼ ë“¤ì–´, ì„œë²„ ì•¡ì…˜ì´ ìƒˆ í•­ëª© ìƒì„± ì‹œ ì˜¤ë¥˜ë¥¼ ì²˜ë¦¬í•˜ê³  ë©”ì‹œì§€ë¥¼ ë°˜í™˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

```ts filename="app/actions.ts" switcher
"use server";

export async function createTodo(prevState: any, formData: FormData) {
  try {
    // ë°ì´í„° ë³€ê²½
  } catch (e) {
    throw new Error("í•  ì¼ ìƒì„± ì‹¤íŒ¨");
  }
}
```

```js filename="app/actions.js" switcher
"use server";

export async function createTodo(prevState, formData) {
  try {
    // ë°ì´í„° ë³€ê²½
  } catch (e) {
    throw new Error("í•  ì¼ ìƒì„± ì‹¤íŒ¨");
  }
}
```

> **ì•Œì•„ë‘ë©´ ì¢‹ì€ ì :**
>
> - ì˜¤ë¥˜ë¥¼ ë˜ì§€ëŠ” ê²ƒ ì™¸ì—ë„ `useActionState`ì—ì„œ ì²˜ë¦¬í•  ê°ì²´ë¥¼ ë°˜í™˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. [ì„œë²„ ì¸¡ ìœ íš¨ì„± ê²€ì‚¬ ë° ì˜¤ë¥˜ ì²˜ë¦¬](#server-side-form-validation)ë¥¼ ì°¸ì¡°í•˜ì„¸ìš”.

### ë°ì´í„° ì¬ê²€ì¦

ì„œë²„ ì•¡ì…˜ ë‚´ì—ì„œ [`revalidatePath`](/docs/app/api-reference/functions/revalidatePath) APIë¥¼ ì‚¬ìš©í•˜ì—¬ [Next.js ìºì‹œ](/docs/app/building-your-application/caching)ë¥¼ ì¬ê²€ì¦í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

```ts filename="app/actions.ts" switcher
"use server";

import { revalidatePath } from "next/cache";

export async function createPost() {
  try {
    // ...
  } catch (error) {
    // ...
  }

  revalidatePath("/posts");
}
```

```js filename="app/actions.js" switcher
"use server";

import { revalidatePath } from "next/cache";

export async function createPost() {
  try {
    // ...
  } catch (error) {
    // ...
  }

  revalidatePath("/posts");
}
```

ë˜ëŠ” [`revalidateTag`](/docs/app/api-reference/functions/revalidateTag)ë¥¼ ì‚¬ìš©í•˜ì—¬ ìºì‹œ íƒœê·¸ë¡œ íŠ¹ì • ë°ì´í„° ê°€ì ¸ì˜¤ê¸°ë¥¼ ë¬´íš¨í™”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

```ts filename="app/actions.ts" switcher
"use server";

import { revalidateTag } from "next/cache";

export async function createPost() {
  try {
    // ...
  } catch (error) {
    // ...
  }

  revalidateTag("posts");
}
```

```js filename="app/actions.js" switcher
"use server";

import { revalidateTag } from "next/cache";

export async function createPost() {
  try {
    // ...
  } catch (error) {
    // ...
  }

  revalidateTag("posts");
}
```

### ë¦¬ë””ë ‰ì…˜

ì„œë²„ ì•¡ì…˜ ì™„ë£Œ í›„ ì‚¬ìš©ìë¥¼ ë‹¤ë¥¸ ê²½ë¡œë¡œ ë¦¬ë””ë ‰ì…˜í•˜ë ¤ë©´ [`redirect`](/docs/app/api-reference/functions/redirect) APIë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. `redirect`ëŠ” `try/catch` ë¸”ë¡ ì™¸ë¶€ì—ì„œ í˜¸ì¶œí•´ì•¼ í•©ë‹ˆë‹¤:

```ts filename="app/actions.ts" switcher
"use server";

import { redirect } from "next/navigation";
import { revalidateTag } from "next/cache";

export async function createPost(id: string) {
  try {
    // ...
  } catch (error) {
    // ...
  }

  revalidateTag("posts"); // ìºì‹œëœ ê²Œì‹œë¬¼ ì—…ë°ì´íŠ¸
  redirect(`/post/${id}`); // ìƒˆ ê²Œì‹œë¬¼ í˜ì´ì§€ë¡œ ì´ë™
}
```

```js filename="app/actions.js" switcher
"use server";

import { redirect } from "next/navigation";
import { revalidateTag } from "next/cache";

export async function createPost(id) {
  try {
    // ...
  } catch (error) {
    // ...
  }

  revalidateTag("posts"); // ìºì‹œëœ ê²Œì‹œë¬¼ ì—…ë°ì´íŠ¸
  redirect(`/post/${id}`); // ìƒˆ ê²Œì‹œë¬¼ í˜ì´ì§€ë¡œ ì´ë™
}
```

### ì¿ í‚¤

ì„œë²„ ì•¡ì…˜ ë‚´ì—ì„œ [`cookies`](/docs/app/api-reference/functions/cookies) APIë¥¼ ì‚¬ìš©í•˜ì—¬ ì¿ í‚¤ë¥¼ `get`, `set`, `delete`í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

```ts filename="app/actions.ts" switcher
"use server";

import { cookies } from "next/headers";

export async function exampleAction() {
  // ì¿ í‚¤ ê°€ì ¸ì˜¤ê¸°
  const value = cookies().get("name")?.value;

  // ì¿ í‚¤ ì„¤ì •
  cookies().set("name", "Delba");

  // ì¿ í‚¤ ì‚­ì œ
  cookies().delete("name");
}
```

```js filename="app/actions.js" switcher
"use server";

import { cookies } from "next/headers";

export async function exampleAction() {
  // ì¿ í‚¤ ê°€ì ¸ì˜¤ê¸°
  const value = cookies().get("name")?.value;

  // ì¿ í‚¤ ì„¤ì •
  cookies().set("name", "Delba");

  // ì¿ í‚¤ ì‚­ì œ
  cookies().delete("name");
}
```

ì„œë²„ ì•¡ì…˜ì—ì„œ ì¿ í‚¤ë¥¼ ì‚­ì œí•˜ëŠ” [ì¶”ê°€ ì˜ˆì œ](/docs/app/api-reference/functions/cookies#deleting-cookies)ë¥¼ ì°¸ì¡°í•˜ì„¸ìš”.

## ë³´ì•ˆ

### ì¸ì¦ ë° ê¶Œí•œ ë¶€ì—¬

ì„œë²„ ì•¡ì…˜ì„ ê³µê°œ API ì—”ë“œí¬ì¸íŠ¸ì²˜ëŸ¼ ì·¨ê¸‰í•˜ê³  ì‚¬ìš©ìê°€ í•´ë‹¹ ì‘ì—…ì„ ìˆ˜í–‰í•  ê¶Œí•œì´ ìˆëŠ”ì§€ í™•ì¸í•´ì•¼ í•©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´:

```tsx filename="app/actions.ts"
"use server";

import { auth } from "./lib";

export function addItem() {
  const { user } = auth();
  if (!user) {
    throw new Error("ì´ ì‘ì—…ì„ ìˆ˜í–‰í•˜ë ¤ë©´ ë¡œê·¸ì¸í•´ì•¼ í•©ë‹ˆë‹¤");
  }

  // ...
}
```

### í´ë¡œì € ë° ì•”í˜¸í™”

ì»´í¬ë„ŒíŠ¸ ë‚´ì—ì„œ ì„œë²„ ì•¡ì…˜ì„ ì •ì˜í•˜ë©´ ì•¡ì…˜ì´ ì™¸ë¶€ í•¨ìˆ˜ì˜ ë²”ìœ„ì— ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” [í´ë¡œì €](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Closures)ê°€ ìƒì„±ë©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, `publish` ì•¡ì…˜ì€ `publishVersion` ë³€ìˆ˜ì— ì ‘ê·¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

```tsx filename="app/page.tsx" switcher
export default async function Page() {
  const publishVersion = await getLatestVersion();

  async function publish() {
    "use server";
    if (publishVersion !== await getLatestVersion()) {
      throw new Error('ê²Œì‹œ ë²„íŠ¼ì„ ëˆ„ë¥¸ ì´í›„ ë²„ì „ì´ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤');
    }
    ...
  }

  return (
    <form>
      <button formAction={publish}>ê²Œì‹œ</button>
    </form>
  );
}
```

```jsx filename="app/page.js" switcher
export default async function Page() {
  const publishVersion = await getLatestVersion();

  async function publish() {
    "use server";
    if (publishVersion !== await getLatestVersion()) {
      throw new Error('ê²Œì‹œ ë²„íŠ¼ì„ ëˆ„ë¥¸ ì´í›„ ë²„ì „ì´ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤');
    }
    ...
  }

  return (
    <form>
      <button formAction={publish}>ê²Œì‹œ</button>
    </form>
  );
}
```

í´ë¡œì €ëŠ” ë Œë”ë§ ì‹œì ì˜ ë°ì´í„° _ìŠ¤ëƒ…ìƒ·_(ì˜ˆ: `publishVersion`)ì„ ìº¡ì²˜í•˜ì—¬ ë‚˜ì¤‘ì— ì•¡ì…˜ì´ í˜¸ì¶œë  ë•Œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” ë° ìœ ìš©í•©ë‹ˆë‹¤.

ê·¸ëŸ¬ë‚˜ ì´ë¥¼ ìœ„í•´ì„œëŠ” ìº¡ì²˜ëœ ë³€ìˆ˜ê°€ í´ë¼ì´ì–¸íŠ¸ë¡œ ì „ì†¡ë˜ê³  ì•¡ì…˜ì´ í˜¸ì¶œë  ë•Œ ë‹¤ì‹œ ì„œë²„ë¡œ ì „ì†¡ë˜ì–´ì•¼ í•©ë‹ˆë‹¤. ë¯¼ê°í•œ ë°ì´í„°ê°€ í´ë¼ì´ì–¸íŠ¸ì— ë…¸ì¶œë˜ëŠ” ê²ƒì„ ë°©ì§€í•˜ê¸° ìœ„í•´ Next.jsëŠ” ìë™ìœ¼ë¡œ í´ë¡œì € ë³€ìˆ˜ë¥¼ ì•”í˜¸í™”í•©ë‹ˆë‹¤. Next.js ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ë¹Œë“œë  ë•Œë§ˆë‹¤ ê° ì•¡ì…˜ì— ëŒ€í•´ ìƒˆë¡œìš´ ê°œì¸ í‚¤ê°€ ìƒì„±ë©ë‹ˆë‹¤. ì´ëŠ” ì•¡ì…˜ì´ íŠ¹ì • ë¹Œë“œì— ëŒ€í•´ì„œë§Œ í˜¸ì¶œë  ìˆ˜ ìˆìŒì„ ì˜ë¯¸í•©ë‹ˆë‹¤.

> **ì•Œì•„ë‘ë©´ ì¢‹ì€ ì :** ë¯¼ê°í•œ ê°’ì´ í´ë¼ì´ì–¸íŠ¸ì— ë…¸ì¶œë˜ëŠ” ê²ƒì„ ë°©ì§€í•˜ê¸° ìœ„í•´ ì•”í˜¸í™”ì—ë§Œ ì˜ì¡´í•˜ëŠ” ê²ƒì„ ê¶Œì¥í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ëŒ€ì‹  [React taint APIs](/docs/app/building-your-application/data-fetching/fetching#preventing-sensitive-data-from-being-exposed-to-the-client)ë¥¼ ì‚¬ìš©í•˜ì—¬ íŠ¹ì • ë°ì´í„°ê°€ í´ë¼ì´ì–¸íŠ¸ë¡œ ì „ì†¡ë˜ëŠ” ê²ƒì„ ì‚¬ì „ì— ë°©ì§€í•´ì•¼ í•©ë‹ˆë‹¤.

### ì•”í˜¸í™” í‚¤ ë®ì–´ì“°ê¸° (ê³ ê¸‰)

Next.js ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì—¬ëŸ¬ ì„œë²„ì— ìì²´ í˜¸ìŠ¤íŒ…í•  ë•Œ, ê° ì„œë²„ ì¸ìŠ¤í„´ìŠ¤ê°€ ì„œë¡œ ë‹¤ë¥¸ ì•”í˜¸í™” í‚¤ë¥¼ ê°€ì§ˆ ìˆ˜ ìˆì–´ ì ì¬ì ì¸ ë¶ˆì¼ì¹˜ë¥¼ ìœ ë°œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì´ë¥¼ ì™„í™”í•˜ê¸° ìœ„í•´ `process.env.NEXT_SERVER_ACTIONS_ENCRYPTION_KEY` í™˜ê²½ ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ ì•”í˜¸í™” í‚¤ë¥¼ ë®ì–´ì“¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ ë³€ìˆ˜ë¥¼ ì§€ì •í•˜ë©´ ë¹Œë“œ ê°„ì— ì•”í˜¸í™” í‚¤ê°€ ì§€ì†ë˜ê³  ëª¨ë“  ì„œë²„ ì¸ìŠ¤í„´ìŠ¤ê°€ ë™ì¼í•œ í‚¤ë¥¼ ì‚¬ìš©í•˜ë„ë¡ ë³´ì¥í•©ë‹ˆë‹¤.

ì´ëŠ” ì—¬ëŸ¬ ë°°í¬ì—ì„œ ì¼ê´€ëœ ì•”í˜¸í™” ë™ì‘ì´ ì• í”Œë¦¬ì¼€ì´ì…˜ì— ì¤‘ìš”í•œ ê³ ê¸‰ ì‚¬ìš© ì‚¬ë¡€ì…ë‹ˆë‹¤. í‚¤ ë¡œí…Œì´ì…˜ ë° ì„œëª…ê³¼ ê°™ì€ í‘œì¤€ ë³´ì•ˆ ê´€í–‰ì„ ê³ ë ¤í•´ì•¼ í•©ë‹ˆë‹¤.

> **ì•Œì•„ë‘ë©´ ì¢‹ì€ ì :** Vercelì— ë°°í¬ëœ Next.js ì• í”Œë¦¬ì¼€ì´ì…˜ì€ ì´ë¥¼ ìë™ìœ¼ë¡œ ì²˜ë¦¬í•©ë‹ˆë‹¤.

### í—ˆìš©ëœ ì¶œì²˜ (ê³ ê¸‰)

ì„œë²„ ì•¡ì…˜ì€ `<form>` ìš”ì†Œì—ì„œ í˜¸ì¶œë  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— [CSRF ê³µê²©](https://developer.mozilla.org/en-US/docs/Glossary/CSRF)ì— ë…¸ì¶œë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ë‚´ë¶€ì ìœ¼ë¡œ ì„œë²„ ì•¡ì…˜ì€ `POST` ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ë©°, ì´ HTTP ë©”ì„œë“œë§Œ ì•¡ì…˜ì„ í˜¸ì¶œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ëŠ” [SameSite ì¿ í‚¤](https://web.dev/articles/samesite-cookies-explained)ê°€ ê¸°ë³¸ê°’ì¸ ìµœì‹  ë¸Œë¼ìš°ì €ì—ì„œ ëŒ€ë¶€ë¶„ì˜ CSRF ì·¨ì•½ì ì„ ë°©ì§€í•©ë‹ˆë‹¤.

ì¶”ê°€ì ì¸ ë³´í˜¸ë¡œ, Next.jsì˜ ì„œë²„ ì•¡ì…˜ì€ [Origin í—¤ë”](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Origin)ë¥¼ [Host í—¤ë”](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Host)(ë˜ëŠ” `X-Forwarded-Host`)ì™€ ë¹„êµí•©ë‹ˆë‹¤. ì´ë“¤ì´ ì¼ì¹˜í•˜ì§€ ì•Šìœ¼ë©´ ìš”ì²­ì´ ì¤‘ë‹¨ë©ë‹ˆë‹¤. ì¦‰, ì„œë²„ ì•¡ì…˜ì€ í˜¸ìŠ¤íŒ…í•˜ëŠ” í˜ì´ì§€ì™€ ë™ì¼í•œ í˜¸ìŠ¤íŠ¸ì—ì„œë§Œ í˜¸ì¶œë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œë‚˜ ë‹¤ì¸µ ë°±ì—”ë“œ ì•„í‚¤í…ì²˜ë¥¼ ì‚¬ìš©í•˜ëŠ” ëŒ€ê·œëª¨ ì• í”Œë¦¬ì¼€ì´ì…˜(ì„œë²„ APIê°€ í”„ë¡œë•ì…˜ ë„ë©”ì¸ê³¼ ë‹¤ë¥¸ ê²½ìš°)ì˜ ê²½ìš°, [`serverActions.allowedOrigins`](/docs/app/api-reference/next-config-js/serverActions) ì˜µì…˜ì„ ì‚¬ìš©í•˜ì—¬ ì•ˆì „í•œ ì¶œì²˜ ëª©ë¡ì„ ì§€ì •í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤. ì´ ì˜µì…˜ì€ ë¬¸ìì—´ ë°°ì—´ì„ ë°›ìŠµë‹ˆë‹¤.

```js filename="next.config.js"
/** @type {import('next').NextConfig} */
module.exports = {
  experimental: {
    serverActions: {
      allowedOrigins: ["my-proxy.com", "*.my-proxy.com"],
    },
  },
};
```

[ë³´ì•ˆ ë° ì„œë²„ ì•¡ì…˜](https://nextjs.org/blog/security-nextjs-server-components-actions)ì— ëŒ€í•´ ìì„¸íˆ ì•Œì•„ë³´ì„¸ìš”.

## ì¶”ê°€ ë¦¬ì†ŒìŠ¤

ì„œë²„ ì•¡ì…˜ì— ëŒ€í•œ ìì„¸í•œ ì •ë³´ëŠ” ë‹¤ìŒ React ë¬¸ì„œë¥¼ í™•ì¸í•˜ì„¸ìš”:

- [ì„œë²„ ì•¡ì…˜](https://ko.react.dev/reference/rsc/server-actions)
- [`"use server"`](https://ko.react.dev/reference/react/use-server)
- [`<form>`](https://ko.react.dev/reference/react-dom/components/form)
- [`useFormStatus`](https://ko.react.dev/reference/react-dom/hooks/useFormStatus)
- [`useActionState`](https://ko.react.dev/reference/react/useActionState)
- [`useOptimistic`](https://ko.react.dev/reference/react/useOptimistic)
